// Archivo de traducciones para el sitio web GHM Satelital

const translations = {
    'es': {
        // Textos del header/navegación
        'nav_clientes_titulo': 'Nuestros Clientes',
        'nav_nosotros': 'Nosotros',
        'nav_servicios': 'Servicios',
        'nav_geoespacial': 'Geoespacial',
        'nav_soporte': 'Soporte Técnico',
        'nav_contacto': 'Contacto',
        'nav_clientes': 'Clientes | Login',
        'nav_spanish': 'ESP',
        'nav_english': 'ENG',
        'nav_conectividad': 'Conectividad',
        'nav_monitoreo': 'Monitoreo',
        'nav_gestion': 'Gestión IT',
        'nav_mision': 'Misión',
        'nav_vision': 'Visión',
        'nav_valores': 'Valores',
        'nav_rse': 'RSE',
        'nav_fotogrametria': 'Fotogrametría',
        'nav_termografia': 'Termografía',
        'nav_magnetometria': 'Magnetometría',
        'nav_batimetria': 'Batimetría',
        'nav_lidar': 'LiDAR',
        'nav_control': 'Control de Activos',
        'nav_procesamiento': 'Procesamiento de Datos',
        'nav_soporte_24_7': 'Soporte 24/7',
        'nav_conectividad_estable': 'Conectividad Estable',
        'nav_soluciones': 'Soluciones Efectivas',
        'nav_cobertura': 'Cobertura Remota',
        'nav_montana': 'Expertos en Alta Montaña',
        
        // Textos de soporte
        'soporte_24_7': 'Soporte 24/7',
        'soporte_conectividad': 'Conectividad Estable', 
        'soporte_soluciones': 'Soluciones Efectivas',
        'soporte_cobertura': 'Cobertura Remota',
        'soporte_montana': 'Expertos en Alta Montaña',

        // Textos del footer/contacto
        'contacto_argentina': 'Argentina',
        'contacto_bsas': 'Av. Libertador 2349 5º "A",\nCABA, Buenos Aires',
        'contacto_sanjuan': 'San Juan',
        'contacto_sanjuan_capital': 'Esteban Echeverría 772 (sur),\nCapital',
        'contacto_sanjuan_barreal': 'Huarpes 1226 (oeste),\nBarreal, Calingasta',
        'contacto_sanjuan_iglesia': 'Calle Central y Calle 2,\nEstancia Guañizuil, Iglesia',
        'contacto_chile': 'Chile',
        'contacto_chile_serena': 'Av. Pacífico 5103, Torre 1 / Dpto. 63\nLa Serena, Coquimbo',
        'contacto_info': 'Información',
        'contacto_trabajo': 'Trabaja con Nosotros',
        'copyright': 'ghm satelital © 2025 / Todos los derechos reservados',
        // Textos del header/navegación
        'nav_nosotros': 'Nosotros',
        'nav_servicios': 'Servicios',
        'nav_geoespacial': 'Geoespacial',
        'nav_soporte': 'Soporte Técnico',
        'nav_contacto': 'Contacto',
        'nav_clientes': 'Clientes | Login',
        'nav_spanish': 'ESP',
        'nav_english': 'ENG',
        
        // Textos de la sección principal
        'main_expertos': 'Expertos en innovación y tecnología',
        'main_soluciones': 'Soluciones de conectividad',
        'main_monitoreo': 'y monitoreo en sitios remotos',
        'main_titulo': 'Conectividad + Monitoreo integral + Servicios tecnológicos innovadores',
        'main_descripcion': 'Desarrollamos soluciones adaptadas a sus necesidades en Argentina y países limítrofes. Ofrecemos internet satelital completamente autónoma, así como el diseño, fabricación y provisión de equipos para monitoreo ambiental, meteorológico y de seguridad.',
        
        // Textos de servicios
        'servicios_titulo': 'Servicios',
        'servicios_conectividad': 'Conectividad',
        'servicios_monitoreo': 'Monitoreo',
        'servicios_gestion': 'Gestión de IT',
        
        // Textos de geoespacial
        'geo_titulo': 'Geoespacial',
        'geo_fotogrametria': 'Fotogrametría',
        'geo_termografia': 'Termografía',
        'geo_magnetometria': 'Magnetometría',
        'geo_batimetria': 'Batimetría',
        'geo_lidar': 'LiDAR',
        'geo_control': 'Control de Activos',
        
        // Textos de motivación
        'motiva_titulo': '¿Qué nos motiva?',
        'motiva_mision_titulo': 'Misión',
        'motiva_mision_texto': 'Ofrecemos soluciones tecnológicas innovadoras que conectan y potencian empresas y comunidades, incluso en los entornos más desafiantes, con un firme compromiso con la calidad, el cliente y el ambiente.',
        'motiva_vision_titulo': 'Visión',
        'motiva_vision_texto': 'Convertirse en la empresa de tecnologia preferida por profesionales que buscan transformar la sociedad. Ser reconocida como el aliado estratégico clave en la generación de valor, persiguiendo altos estándares de satisfacción para nuestros clientes, colaboradores y socios.',
        'motiva_valores_titulo': 'Valores',
        'motiva_valores_texto': 'Creemos en soluciones que transformen vidas con compromiso, honestidad y dedicación. Priorizamos a nuestros clientes, cuidamos a las comunidades y fortalecemos nuestra organización para garantizar un impacto positivo en cada proyecto.',
        
        // Textos de actualidad
        'actualidad_titulo': 'Actualidad',
        
        // Elementos de UI
        'ui_cerrar': '×',
        'ui_anterior': '❮',
        'ui_siguiente': '❯'
    },
    'en': {
        // Header/navigation texts
        'nav_clientes_titulo': 'Our Clients',
        'nav_nosotros': 'About Us',
        'nav_servicios': 'Services',
        'nav_geoespacial': 'Geospatial',
        'nav_soporte': 'Technical Support',
        'nav_contacto': 'Contact',
        'nav_clientes': 'Clients | Login',
        'nav_spanish': 'ESP',
        'nav_english': 'ENG',
        'nav_conectividad': 'Connectivity',
        'nav_monitoreo': 'Monitoring',
        'nav_gestion': 'IT Management',
        'nav_mision': 'Mission',
        'nav_vision': 'Vision',
        'nav_valores': 'Values',
        'nav_rse': 'CSR',
        'nav_fotogrametria': 'Photogrammetry',
        'nav_termografia': 'Thermography',
        'nav_magnetometria': 'Magnetometry',
        'nav_batimetria': 'Bathymetry',
        'nav_lidar': 'LiDAR',
        'nav_control': 'Asset Control',
        'nav_procesamiento': 'Data Processing',
        'nav_soporte_24_7': '24/7 Support',
        'nav_conectividad_estable': 'Stable Connectivity',
        'nav_soluciones': 'Effective Solutions',
        'nav_cobertura': 'Remote Coverage',
        'nav_montana': 'High Mountain Experts',

        // Support texts
        'soporte_24_7': '24/7 Support',
        'soporte_conectividad': 'Stable Connectivity',
        'soporte_soluciones': 'Effective Solutions',
        'soporte_cobertura': 'Remote Coverage',
        'soporte_montana': 'High Mountain Experts',

        // Footer/contact texts
        'contacto_argentina': 'Argentina',
        'contacto_bsas': 'Av. Libertador 2349 5th "A",\nCABA, Buenos Aires',
        'contacto_sanjuan': 'San Juan',
        'contacto_sanjuan_capital': 'Esteban Echeverría 772 (south),\nCapital',
        'contacto_sanjuan_barreal': 'Huarpes 1226 (west),\nBarreal, Calingasta',
        'contacto_sanjuan_iglesia': 'Central Street and 2nd Street,\nEstancia Guañizuil, Iglesia',
        'contacto_chile': 'Chile',
        'contacto_chile_serena': 'Av. Pacífico 5103, Tower 1 / Apt. 63\nLa Serena, Coquimbo',
        'contacto_info': 'Information',
        'contacto_trabajo': 'Work with Us',
        'copyright': 'ghm satelital © 2025 / All rights reserved',
        // Header/navigation texts
        'nav_nosotros': 'About Us',
        'nav_servicios': 'Services',
        'nav_geoespacial': 'Geospatial',
        'nav_soporte': 'Technical Support',
        'nav_contacto': 'Contact',
        'nav_clientes': 'Clients | Login',
        'nav_spanish': 'ESP',
        'nav_english': 'ENG',
        
        // Main section texts
        'main_expertos': 'Experts in innovation and technology',
        'main_soluciones': 'Connectivity solutions',
        'main_monitoreo': 'and monitoring in remote sites',
        'main_titulo': 'Connectivity + Comprehensive Monitoring + Innovative Technological Services',
        'main_descripcion': 'We develop solutions tailored to your needs in Argentina and neighboring countries. We offer completely autonomous satellite internet, as well as the design, manufacture, and supply of equipment for environmental, meteorological, and security monitoring.',
        
        // Services texts
        'servicios_titulo': 'Services',
        'servicios_conectividad': 'Connectivity',
        'servicios_monitoreo': 'Monitoring',
        'servicios_gestion': 'IT Management',
        
        // Geospatial texts
        'geo_titulo': 'Geospatial',
        'geo_fotogrametria': 'Photogrammetry',
        'geo_termografia': 'Thermography',
        'geo_magnetometria': 'Magnetometry',
        'geo_batimetria': 'Bathymetry',
        'geo_lidar': 'LiDAR',
        'geo_control': 'Asset Control',
        
        // Motivation texts
        'motiva_titulo': 'What motivates us?',
        'motiva_mision_titulo': 'Mission',
        'motiva_mision_texto': 'We offer innovative technological solutions that connect and empower companies and communities, even in the most challenging environments, with a firm commitment to quality, the customer, and the environment.',
        'motiva_vision_titulo': 'Vision',
        'motiva_vision_texto': 'To become the technology company preferred by professionals seeking to transform society. To be recognized as a key strategic ally in generating value, pursuing high standards of satisfaction for our clients, collaborators, and partners.',
        'motiva_valores_titulo': 'Values',
        'motiva_valores_texto': 'We believe in solutions that transform lives with commitment, honesty, and dedication. We prioritize our clients, care for communities, and strengthen our organization to ensure a positive impact on each project.',
        
        // News section texts
        'actualidad_titulo': 'News',
        
        // UI elements
        'ui_cerrar': '×',
        'ui_anterior': '❮',
        'ui_siguiente': '❯'
    }
};

// Función para obtener el idioma actual
function getCurrentLanguage() {
    // Primero intentar obtener el idioma desde localStorage
    const savedLanguage = localStorage.getItem('selectedLanguage');
    if (savedLanguage) {
        return savedLanguage;
    }
    
    // Si no hay idioma guardado, verificar la URL
    if (window.location.pathname.includes('/en/')) {
        return 'en';
    }
    
    // Por defecto, usar español
    return 'es';
}

// Función para obtener una traducción
function getTranslation(key) {
    const language = getCurrentLanguage();
    return translations[language][key] || key;
}

// Función para actualizar el idioma de todos los textos con atributo data-i18n
function updatePageLanguage() {
    const language = getCurrentLanguage();
    applyLanguage(language);
}

// Función para aplicar un idioma específico a toda la página
function applyLanguage(language) {
    // Actualizar el atributo lang del HTML
    document.documentElement.setAttribute('lang', language);
    
    // Actualizar todos los elementos con atributo data-i18n
    const elements = document.querySelectorAll('[data-i18n]');
    
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        if (key) {
            // Preservar los elementos HTML dentro del contenido (como <br> y <span>)
            // Usamos una técnica para guardar el HTML interno
            if (element.innerHTML.includes('<')) {
                // Si tiene HTML interno, necesitamos ser cuidadosos con el reemplazo
                const template = translations[language][key];
                if (template) {
                    element.innerHTML = template;
                }
            } else {
                // Si es solo texto, podemos usar textContent
                element.textContent = translations[language][key] || key;
            }
        }
    });
    
    // Actualizar el estado visual de los botones de idioma
    const langButtons = document.querySelectorAll('.language-switch');
    langButtons.forEach(button => {
        if (button.getAttribute('data-lang') === language) {
            button.classList.add('active-language');
        } else {
            button.classList.remove('active-language');
        }
    });
}

// Función para inicializar las traducciones cuando la página cargue
function initializeTranslations() {
    // Si el DOM ya está cargado, ejecutar inmediatamente
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', setupTranslations);
    } else {
        setupTranslations();
    }
}

// Configurar las traducciones y los listeners para los botones de idioma
function setupTranslations() {
    // Aplicar el idioma actual al cargar la página
    updatePageLanguage();
    
    // Inicializar botones de cambio de idioma si existen
    const langButtons = document.querySelectorAll('.language-switch');
    langButtons.forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            const targetLang = this.getAttribute('data-lang');
            switchLanguage(targetLang);
        });
    });
    
    // Añadir un estilo para el botón de idioma activo si no existe
    if (!document.getElementById('language-switch-style')) {
        const style = document.createElement('style');
        style.id = 'language-switch-style';
        style.textContent = '.active-language { font-weight: bold; text-decoration: underline; }';
        document.head.appendChild(style);
    }
}

// Función para cambiar de idioma directamente sin cambiar de página
function switchLanguage(language) {
    // Guardar el idioma seleccionado en localStorage
    localStorage.setItem('selectedLanguage', language);
    
    // Aplicar el cambio de idioma inmediatamente
    applyLanguage(language);
}

// Inicializar el sistema de traducciones
initializeTranslations();
